<video autoplay></video>

<script>

var errorCallback = function(e) {
   console.log('Reeeejected!', e);
 };

navigator.getUserMedia  = navigator.getUserMedia ||
                          navigator.webkitGetUserMedia ||
                          navigator.mozGetUserMedia ||
                          navigator.msGetUserMedia;

var video = document.querySelector('video');

if (navigator.getUserMedia) {
  navigator.getUserMedia({audio: true, video: true}, function(stream) {
    video.src = window.URL.createObjectURL(stream);
  }, errorCallback);
} else {
  video.src = 'somevideo.webm'; // fallback.
}

// var video = document.getElementById('video');
// var canvas = document.getElementById('canvas');
// var context = canvas.getContext('2d');
//
// context.drawImage(video, canvas.x, canvas.y, canvas.width, canvas.height);
</script>
